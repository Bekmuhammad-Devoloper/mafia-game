import { PrismaService } from '../prisma/prisma.service';
import { CreateUserDto, UpdateUserSettingsDto } from './dto';
export declare class UsersService {
    private prisma;
    constructor(prisma: PrismaService);
    findOrCreateByTelegramId(telegramData: CreateUserDto): Promise<{
        telegramId: bigint;
        username: string | null;
        firstName: string;
        lastName: string | null;
        avatarUrl: string | null;
        voiceType: import("@prisma/client").$Enums.VoiceType;
        voiceSpeed: number;
        volume: number;
        subtitlesEnabled: boolean;
        autoPlayEnabled: boolean;
        atmosphereEnabled: boolean;
        id: string;
        gamesPlayed: number;
        gamesWon: number;
        gamesAsMafia: number;
        gamesAsCivilian: number;
        gamesAsDoctor: number;
        gamesAsSheriff: number;
        gamesAsDon: number;
        mafiaWins: number;
        civilianWins: number;
        createdAt: Date;
        updatedAt: Date;
    }>;
    findById(id: string): Promise<{
        telegramId: bigint;
        username: string | null;
        firstName: string;
        lastName: string | null;
        avatarUrl: string | null;
        voiceType: import("@prisma/client").$Enums.VoiceType;
        voiceSpeed: number;
        volume: number;
        subtitlesEnabled: boolean;
        autoPlayEnabled: boolean;
        atmosphereEnabled: boolean;
        id: string;
        gamesPlayed: number;
        gamesWon: number;
        gamesAsMafia: number;
        gamesAsCivilian: number;
        gamesAsDoctor: number;
        gamesAsSheriff: number;
        gamesAsDon: number;
        mafiaWins: number;
        civilianWins: number;
        createdAt: Date;
        updatedAt: Date;
    }>;
    findByTelegramId(telegramId: string | number): Promise<{
        telegramId: bigint;
        username: string | null;
        firstName: string;
        lastName: string | null;
        avatarUrl: string | null;
        voiceType: import("@prisma/client").$Enums.VoiceType;
        voiceSpeed: number;
        volume: number;
        subtitlesEnabled: boolean;
        autoPlayEnabled: boolean;
        atmosphereEnabled: boolean;
        id: string;
        gamesPlayed: number;
        gamesWon: number;
        gamesAsMafia: number;
        gamesAsCivilian: number;
        gamesAsDoctor: number;
        gamesAsSheriff: number;
        gamesAsDon: number;
        mafiaWins: number;
        civilianWins: number;
        createdAt: Date;
        updatedAt: Date;
    } | null>;
    updateSettings(userId: string, settings: UpdateUserSettingsDto): Promise<{
        telegramId: bigint;
        username: string | null;
        firstName: string;
        lastName: string | null;
        avatarUrl: string | null;
        voiceType: import("@prisma/client").$Enums.VoiceType;
        voiceSpeed: number;
        volume: number;
        subtitlesEnabled: boolean;
        autoPlayEnabled: boolean;
        atmosphereEnabled: boolean;
        id: string;
        gamesPlayed: number;
        gamesWon: number;
        gamesAsMafia: number;
        gamesAsCivilian: number;
        gamesAsDoctor: number;
        gamesAsSheriff: number;
        gamesAsDon: number;
        mafiaWins: number;
        civilianWins: number;
        createdAt: Date;
        updatedAt: Date;
    }>;
    updateStats(userId: string, stats: {
        gamesPlayed?: number;
        gamesWon?: number;
        gamesAsMafia?: number;
        gamesAsCivilian?: number;
        gamesAsDoctor?: number;
        gamesAsSheriff?: number;
        gamesAsDon?: number;
        mafiaWins?: number;
        civilianWins?: number;
    }): Promise<{
        telegramId: bigint;
        username: string | null;
        firstName: string;
        lastName: string | null;
        avatarUrl: string | null;
        voiceType: import("@prisma/client").$Enums.VoiceType;
        voiceSpeed: number;
        volume: number;
        subtitlesEnabled: boolean;
        autoPlayEnabled: boolean;
        atmosphereEnabled: boolean;
        id: string;
        gamesPlayed: number;
        gamesWon: number;
        gamesAsMafia: number;
        gamesAsCivilian: number;
        gamesAsDoctor: number;
        gamesAsSheriff: number;
        gamesAsDon: number;
        mafiaWins: number;
        civilianWins: number;
        createdAt: Date;
        updatedAt: Date;
    }>;
    getLeaderboard(limit?: number, period?: string): Promise<{
        rank: number;
        winRate: number;
        username: string | null;
        firstName: string;
        lastName: string | null;
        avatarUrl: string | null;
        id: string;
        gamesPlayed: number;
        gamesWon: number;
        mafiaWins: number;
        civilianWins: number;
    }[]>;
    getUserStats(userId: string): Promise<{
        gamesPlayed: number;
        gamesWon: number;
        winRate: string;
        roleStats: {
            mafia: number;
            civilian: number;
            doctor: number;
            sheriff: number;
            don: number;
        };
        teamWins: {
            mafia: number;
            civilian: number;
        };
    }>;
    toJSON(user: any): any;
}
